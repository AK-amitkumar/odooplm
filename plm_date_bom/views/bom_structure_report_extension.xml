<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
	
	<template id="report_bom_structure_all_extension" inherit_id="plm.bom_structure_all">
	    <xpath expr="//td[@name='bom_prod_name_value_b']" position="replace">
	    	<t t-if="childDict.get('prodTmplBrws').state == 'obsoleted'"> 
	    		<td name="bom_prod_name_value_b" style="background-color: aliceblue, color:red;"><span t-esc="childDict.get('pname')"/></td>
	    	</t>
	    	<t t-if="childDict.get('prodTmplBrws').state != 'obsoleted'">
	    		<td name="bom_prod_name_value_b" style="background-color: aliceblue;"><span t-esc="childDict.get('pname')"/></td>
	    	</t>
	    </xpath>
	    <xpath expr="//td[@name='bom_prod_name_value']" position="replace">
	    	<t t-if="childDict.get('prodTmplBrws').state == 'obsoleted'"> 
	    		<td name="bom_prod_name_value" style="color:red;"><span t-esc="childDict.get('pname')"/></td>
	    	</t>
	    	<t t-if="childDict.get('prodTmplBrws').state != 'obsoleted'">
	    		<td name="bom_prod_name_value"><span t-esc="childDict.get('pname')"/></td>
	    	</t>
	    </xpath>
	</template>

	<template id="plm_date_bom.plm_bom_obsoleted" inherit_id="plm.bom_structure_all"> 
		<xpath expr="//t[@name='children_compute']" position="replace">
			<t t-foreach="get_children(o)" t-as="childDict"> 
				<t t-if="childDict.get('prodTmplBrws').state == 'obsoleted'">
					<tr> 
						<t t-if="i%2 == 1">
							<td name="bom_name_value_b" ></td>
							<td name="bom_pos_value_b" ><span t-esc="childDict.get('item')"/></td>
							<td name="bom_level_value_b" ><span t-esc="childDict.get('level')"/></td>
							<td name="bom_prod_name_value_b"><span t-esc="childDict.get('pname')"/></td>
							<td name="bom_rev_value_b" ><span t-esc="childDict.get('previ')"/></td>
							<td name="bom_description_value_b" ><span t-esc="childDict.get('pdesc')"/></td>
							<td name="bom_qty_value_b" ><span t-esc="childDict.get('pqty')"/></td>
							<td name="bom_uom_value_b" ><span t-esc="childDict.get('uname')"/></td>
							<td name="bom_weight_value_b" ><span t-esc="childDict.get('pweight')"/></td>
						</t>
						<t t-if="i%2 != 1">
							<td name="bom_name_value"></td>
							<td name="bom_pos_value"><span t-esc="childDict.get('item')"/></td>
							<td name="bom_level_value" ><span t-esc="childDict.get('level')"/></td>
							<td name="bom_prod_name_value"><span t-esc="childDict.get('pname')"/></td>
							<td name="bom_rev_value" ><span t-esc="childDict.get('previ')"/></td>
							<td name="bom_description_value" ><span t-esc="childDict.get('pdesc')"/></td>
							<td name="bom_qty_value" ><span t-esc="childDict.get('pqty')"/></td>
							<td name="bom_uom_value" ><span t-esc="childDict.get('uname')"/></td>
							<td name="bom_weight_value" ><span t-esc="childDict.get('pweight')"/></td>
						</t> 
					</tr>
					<t t-set="i" t-value="i+1"/>
				</t>
			</t> 
	    </xpath>
	</template>
	
</data>
</openerp>